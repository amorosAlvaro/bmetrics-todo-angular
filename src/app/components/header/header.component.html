<mat-toolbar class="desktop-header" *ngIf="taskListState$ | async as taskListState">
  <div class="nav-bar">
    <a routerLink="/">
      <button mat-button color="primary">
        <mat-icon>dashboard</mat-icon>
        <span>Todo List for Bmetric</span>
      </button>
    </a>
    <button (click)="onClickAdmin()" mat-button color="primary">Admin</button>
  </div>
  <p *ngIf="router.url === '/'" class="counter">
    <mat-icon
      color="primary"
      matBadge="{{ taskListState.taskList.tasks.length }}"
      matBadgeColor="warn"
      >description</mat-icon
    >
  </p>
  <button
    *ngIf="router.url === '/admin'"
    (click)="openAddTaskDialog()"
    mat-raised-button
    color="primary"
  >
    <mat-icon>note_add </mat-icon>
  </button>
  <div class="tasks"></div>
  <button
    *ngIf="!taskListState.taskList.userIsLogged"
    (click)="openLoginDialog()"
    mat-raised-button
    class="header-button"
    aria-label="Switch to admin"
    color="primary"
  >
    Log In
  </button>
  <button
    *ngIf="taskListState.taskList.userIsLogged"
    (click)="onClickLogout()"
    mat-raised-button
    class="header-button"
    aria-label="Switch to admin"
    color="warn"
  >
    Log Out
  </button>
</mat-toolbar>

<div class="mobile-header" *ngIf="taskListState$ | async as taskListState">
  <button mat-icon-button [matMenuTriggerFor]="menu" color="primary">
    <mat-icon>more_vert</mat-icon>
  </button>
  <mat-menu #menu="matMenu">
    <button
      *ngIf="!taskListState.taskList.userIsLogged"
      (click)="openLoginDialog()"
      mat-menu-item
      aria-label="Log In"
    >
      Log In
    </button>
    <button
      *ngIf="taskListState.taskList.userIsLogged"
      (click)="onClickLogout()"
      mat-menu-item
      aria-label="Log Out"
    >
      Log Out
    </button>
    <a> <button mat-menu-item routerLink="/">Dashboard</button></a>

    <button (click)="onClickAdmin()" mat-menu-item="primary">Admin</button>
  </mat-menu>

  <p *ngIf="router.url === '/'" class="counter">
    <mat-icon
      color="primary"
      matBadge="{{ taskListState.taskList.tasks.length }}"
      matBadgeColor="warn"
      >description</mat-icon
    >
  </p>
  <button
    *ngIf="router.url === '/admin'"
    (click)="openAddTaskDialog()"
    mat-raised-button
    color="primary"
  >
    <mat-icon>note_add </mat-icon>
  </button>
</div>
